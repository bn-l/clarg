/// Truncate a string to a maximum number of characters, respecting UTF-8 boundaries.
pub fn truncate(s: &str, max: usize) -> &str {
    if s.len() <= max {
        s
    } else {
        &s[..s.floor_char_boundary(max)]
    }
}
